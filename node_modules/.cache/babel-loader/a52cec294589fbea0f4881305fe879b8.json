{"ast":null,"code":"import _defineProperty from\"C:/Users/Edo/Documents/GitHub/infomedic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Edo/Documents/GitHub/infomedic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/Edo/Documents/GitHub/infomedic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Edo/Documents/GitHub/infomedic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Edo/Documents/GitHub/infomedic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/Edo/Documents/GitHub/infomedic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useState,useEffect}from\"react\";import{Link,useLocation,useHistory}from\"react-router-dom\";import{collection,doc,setDoc,getDocs}from\"firebase/firestore\";import{Icon}from\"rbx\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import styled from\"styled-components\";import{db}from'../../firebase/firebase-config';import ClickCapture from\"../ClickCapture\";import\"./Sidebar.scss\";import{NestedMenu}from\"./components\";// import { useAuth } from \"../../context/AuthContext\";\nimport{getRoutes}from\"./routes\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledMenu=styled.nav(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  background: white;\\n  height: fit-content;\\n  text-align: left;\\n  padding: 0;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  transform: translate3d(-295px, 0, 0);\\n  transition: transform 0.3s linear;\\n  box-shadow: 20px -9px 20px 0px rgb(0 0 0 / 9%);\\n  color: white;\\n\\n  @media (max-width: 768px) {\\n    transform: translate3d(\",\", 0, 0);\\n    transition: transform 0.3s linear;\\n  }\\n\\n  a {\\n    font-size: 2rem;\\n    text-transform: uppercase;\\n    padding: 2rem 0;\\n    font-weight: bold;\\n    letter-spacing: 0.5rem;\\n    color: #0d0c1d;\\n    text-decoration: none;\\n    transition: color 0.3s linear;\\n\\n    @media (max-width: 576px) {\\n      font-size: 1.5rem;\\n      text-align: center;\\n    }\\n\\n    &:hover {\\n      color: #343078;\\n    }\\n  }\\n\"])),function(_ref){var open=_ref.open;return open?\"0px\":\"-295px\";});var StyledBurger=styled.button(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 15%;\\n  left: 1rem;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  width: 2rem;\\n  height: 2rem;\\n  background: transparent;\\n  border: none;\\n  cursor: pointer;\\n  padding: 0;\\n  z-index: 10;\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  div {\\n    width: 2rem;\\n    height: 0.25rem;\\n    background: \",\";\\n    border-radius: 10px;\\n    transition: all 0.3s linear;\\n    position: relative;\\n    transform-origin: 1px;\\n\\n    :first-child {\\n      transform: \",\";\\n    }\\n\\n    :nth-child(2) {\\n      opacity: \",\";\\n      transform: \",\";\\n    }\\n\\n    :nth-child(3) {\\n      transform: \",\";\\n    }\\n  }\\n\"])),function(_ref2){var open=_ref2.open;return open?\"#0D0C1D\":\"#EFFFFA\";},function(_ref3){var open=_ref3.open;return open?\"rotate(45deg)\":\"rotate(0)\";},function(_ref4){var open=_ref4.open;return open?\"0\":\"1\";},function(_ref5){var open=_ref5.open;return open?\"translateX(20px)\":\"translateX(0)\";},function(_ref6){var open=_ref6.open;return open?\"rotate(-45deg)\":\"rotate(0)\";});var Container=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  flex-grow: 1;\\n  margin: 0 auto;\\n  margin-left: 1rem;\\n  position: relative;\\n  width: auto;\\n  max-width: 98%;\\n  @media screen and (max-width: 900px) {\\n    max-width: 90%;\\n  }\\n\"])));function Sidebar(_ref7){var open=_ref7.open,setOpen=_ref7.setOpen;var history=useHistory();var location=useLocation();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),menuActive=_useState2[0],setMenuActive=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),activeMenus=_useState4[0],setActiveMenus=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),activeRoute=_useState6[0],setActiveRoutes=_useState6[1];// const { state: authState, handleLogout } = useAuth();\nvar permissions=[\"Main\"];var routes=getRoutes(\"Main\");var users=collection(db,\"usuarios\");var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),Username=_useState8[0],setUserName=_useState8[1];var getUserName=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var bdDocs,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(users);case 2:bdDocs=_context.sent;data=bdDocs.docs.map(function(doc){return doc.data();});// await db.collection(\"usuarios\").get();\nsetUserName(data[0].Nombre);// return name;\nconsole.log(Username);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getUserName(){return _ref8.apply(this,arguments);};}();var availableRoutes=routes.filter(function(route){var _route$permissions;return Array.isArray(route.permissions)?(_route$permissions=route.permissions)===null||_route$permissions===void 0?void 0:_route$permissions.some(function(perm){return permissions===null||permissions===void 0?void 0:permissions.some(function(x){return perm===x;});}):true;});useEffect(function(){setMenuActive(false);},[location.pathname]);var toggleActiveMenus=function toggleActiveMenus(name){return setActiveMenus(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,!activeMenus[name]));});};var toggleActiveRoutes=function toggleActiveRoutes(id){var route=availableRoutes[id];if(route.to){history.push(route.to);setMenuActive(false);if(window.innerWidth<900){setOpen(false);}}else{setActiveRoutes(availableRoutes[id]);setMenuActive(true);}};// close sidebar menu when ESC key is pressed\nuseEffect(function(){var handleKeyDown=function handleKeyDown(e){if(menuActive&&e.keyCode===27){setMenuActive(false);}};window.addEventListener(\"keydown\",handleKeyDown);return function(){return window.removeEventListener(\"keydown\",handleKeyDown);};});getUserName();return/*#__PURE__*/_jsx(\"nav\",{className:\"navigation-bar\",children:/*#__PURE__*/_jsxs(ClickCapture,{onOutsideClick:function onOutsideClick(){return setMenuActive(false);},children:[/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(\"div\",{className:\"navigation\",children:/*#__PURE__*/_jsx(\"div\",{className:\"navigation-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"navigation-item\",children:/*#__PURE__*/_jsx(NestedMenu,{activeMenus:activeMenus,isActive:menuActive,links:activeRoute.links,name:activeRoute.name,toggleMenus:toggleActiveMenus})})})})}),/*#__PURE__*/_jsxs(StyledBurger,{open:open,onClick:function onClick(e){e.stopPropagation();if(open){setMenuActive(false);}setOpen(function(prev){return!prev;});},children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsxs(StyledMenu,{open:open,children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-header-item__brand\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Hola \",Username]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-container\",children:/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-menu\",children:[availableRoutes.map(function(r,i){var _r$active;return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-menu-item \".concat(activeRoute===routes[i]&&menuActive?\"is-active\":\"\",\" \").concat(((_r$active=r.active)===null||_r$active===void 0?void 0:_r$active.call(r,location))?\"is-current\":\"\"),role:\"button\",tabIndex:\"0\",onClick:function onClick(){return toggleActiveRoutes(i);},onKeyDown:function onKeyDown(){return toggleActiveRoutes(i);},children:[/*#__PURE__*/_jsx(Icon,{size:\"large\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:r.icon})}),/*#__PURE__*/_jsx(\"span\",{children:r.label})]},r.name);}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-menu-item bottom\",role:\"button\",tabIndex:\"-1\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Cerrar sesi\\xF3n\"})})]})]})]})});}Sidebar.defaultProps={open:false,setOpen:function setOpen(){return null;}};export default Sidebar;","map":{"version":3,"sources":["C:/Users/Edo/Documents/GitHub/infomedic/src/components/Navigation/Sidebar.js"],"names":["React","useState","useEffect","Link","useLocation","useHistory","collection","doc","setDoc","getDocs","Icon","FontAwesomeIcon","styled","db","ClickCapture","NestedMenu","getRoutes","StyledMenu","nav","open","StyledBurger","button","Container","div","Sidebar","setOpen","history","location","menuActive","setMenuActive","activeMenus","setActiveMenus","activeRoute","setActiveRoutes","permissions","routes","users","Username","setUserName","getUserName","bdDocs","data","docs","map","Nombre","console","log","availableRoutes","filter","route","Array","isArray","some","perm","x","pathname","toggleActiveMenus","name","prev","toggleActiveRoutes","id","to","push","window","innerWidth","handleKeyDown","e","keyCode","addEventListener","removeEventListener","links","stopPropagation","r","i","active","icon","label","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\r\nimport { collection, doc, setDoc, getDocs } from \"firebase/firestore\"; \r\nimport { Icon } from \"rbx\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport styled from \"styled-components\";\r\nimport { db } from '../../firebase/firebase-config';\r\nimport ClickCapture from \"../ClickCapture\";\r\nimport \"./Sidebar.scss\";\r\nimport { NestedMenu } from \"./components\";\r\n// import { useAuth } from \"../../context/AuthContext\";\r\nimport { getRoutes } from \"./routes\";\r\n\r\nconst StyledMenu = styled.nav`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  background: white;\r\n  height: fit-content;\r\n  text-align: left;\r\n  padding: 0;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  transform: translate3d(-295px, 0, 0);\r\n  transition: transform 0.3s linear;\r\n  box-shadow: 20px -9px 20px 0px rgb(0 0 0 / 9%);\r\n  color: white;\r\n\r\n  @media (max-width: 768px) {\r\n    transform: translate3d(${({ open }) => (open ? \"0px\" : \"-295px\")}, 0, 0);\r\n    transition: transform 0.3s linear;\r\n  }\r\n\r\n  a {\r\n    font-size: 2rem;\r\n    text-transform: uppercase;\r\n    padding: 2rem 0;\r\n    font-weight: bold;\r\n    letter-spacing: 0.5rem;\r\n    color: #0d0c1d;\r\n    text-decoration: none;\r\n    transition: color 0.3s linear;\r\n\r\n    @media (max-width: 576px) {\r\n      font-size: 1.5rem;\r\n      text-align: center;\r\n    }\r\n\r\n    &:hover {\r\n      color: #343078;\r\n    }\r\n  }\r\n`;\r\n\r\nconst StyledBurger = styled.button`\r\n  position: absolute;\r\n  top: 15%;\r\n  left: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  width: 2rem;\r\n  height: 2rem;\r\n  background: transparent;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 0;\r\n  z-index: 10;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n\r\n  div {\r\n    width: 2rem;\r\n    height: 0.25rem;\r\n    background: ${({ open }) => (open ? \"#0D0C1D\" : \"#EFFFFA\")};\r\n    border-radius: 10px;\r\n    transition: all 0.3s linear;\r\n    position: relative;\r\n    transform-origin: 1px;\r\n\r\n    :first-child {\r\n      transform: ${({ open }) => (open ? \"rotate(45deg)\" : \"rotate(0)\")};\r\n    }\r\n\r\n    :nth-child(2) {\r\n      opacity: ${({ open }) => (open ? \"0\" : \"1\")};\r\n      transform: ${({ open }) => (open ? \"translateX(20px)\" : \"translateX(0)\")};\r\n    }\r\n\r\n    :nth-child(3) {\r\n      transform: ${({ open }) => (open ? \"rotate(-45deg)\" : \"rotate(0)\")};\r\n    }\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  flex-grow: 1;\r\n  margin: 0 auto;\r\n  margin-left: 1rem;\r\n  position: relative;\r\n  width: auto;\r\n  max-width: 98%;\r\n  @media screen and (max-width: 900px) {\r\n    max-width: 90%;\r\n  }\r\n`;\r\n\r\nfunction Sidebar({ open, setOpen }) {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [menuActive, setMenuActive] = useState(false);\r\n  const [activeMenus, setActiveMenus] = useState({});\r\n  const [activeRoute, setActiveRoutes] = useState({});\r\n // const { state: authState, handleLogout } = useAuth();\r\n  const permissions = [\"Main\"];\r\n  const routes = getRoutes(\"Main\");\r\n  const users = collection(db, \"usuarios\");\r\n  const [Username, setUserName] = useState(\"\")\r\n\r\n  const getUserName = async () =>{ \r\n    const bdDocs = await getDocs(users);\r\n    const data = bdDocs.docs.map(doc => doc.data());\r\n    // await db.collection(\"usuarios\").get();\r\n    setUserName(data[0].Nombre);\r\n   // return name;\r\n   console.log(Username)\r\n }\r\n\r\n\r\n  const availableRoutes = routes.filter((route) =>\r\n    Array.isArray(route.permissions)\r\n      ? route.permissions?.some((perm) => permissions?.some((x) => perm === x))\r\n      : true\r\n  );\r\n\r\n  useEffect(() => {\r\n    setMenuActive(false);\r\n  }, [location.pathname]);\r\n\r\n  \r\n\r\n \r\n  const toggleActiveMenus = (name) =>\r\n    setActiveMenus((prev) => ({ ...prev, [name]: !activeMenus[name] }));\r\n\r\n  const toggleActiveRoutes = (id) => {\r\n    const route = availableRoutes[id];\r\n    if (route.to) {\r\n      history.push(route.to);\r\n      setMenuActive(false);\r\n      if (window.innerWidth < 900) {\r\n        setOpen(false);\r\n      }\r\n    } else {\r\n      setActiveRoutes(availableRoutes[id]);\r\n      setMenuActive(true);\r\n    }\r\n  };\r\n\r\n  // close sidebar menu when ESC key is pressed\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (menuActive && e.keyCode === 27) {\r\n        setMenuActive(false);\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  });\r\n\r\n  getUserName()\r\n \r\n  return (\r\n    <nav className=\"navigation-bar\">\r\n      <ClickCapture onOutsideClick={() => setMenuActive(false)}>\r\n        <Container>\r\n          <div className=\"navigation\">\r\n            <div className=\"navigation-start\">\r\n              <div className=\"navigation-item\">\r\n                <NestedMenu\r\n                  activeMenus={activeMenus}\r\n                  isActive={menuActive}\r\n                  links={activeRoute.links}\r\n                  name={activeRoute.name}\r\n                  toggleMenus={toggleActiveMenus}\r\n                />\r\n              </div>\r\n              {/* <Link\r\n              className=\"navigation-item navigation-item--brand\"\r\n              style={{ display: \"flex\" }}\r\n              to=\"/\"\r\n            >\r\n              LIMS\r\n            </Link> */}\r\n            </div>\r\n          </div>\r\n        </Container>\r\n        <StyledBurger\r\n          open={open}\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            if (open) {\r\n              setMenuActive(false);\r\n            }\r\n            setOpen((prev) => !prev);\r\n          }}\r\n        >\r\n          <div />\r\n          <div />\r\n          <div />\r\n        </StyledBurger>\r\n        <StyledMenu open={open}>\r\n          <div className=\"sidebar-header\">\r\n            <div className=\"sidebar-header-item__brand\">\r\n              <Link to=\"/\">\r\n                <p>Hola {Username}</p>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n          <div className=\"header-container\">\r\n            <div>\r\n             \r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div className=\"sidebar-menu\">\r\n            {availableRoutes.map((r, i) => (\r\n              <div\r\n                key={r.name}\r\n                className={`sidebar-menu-item ${\r\n                  activeRoute === routes[i] && menuActive ? \"is-active\" : \"\"\r\n                } ${r.active?.(location) ? \"is-current\" : \"\"}`}\r\n                role=\"button\"\r\n                tabIndex=\"0\"\r\n                onClick={() => toggleActiveRoutes(i)}\r\n                onKeyDown={() => toggleActiveRoutes(i)}\r\n              >\r\n                <Icon size=\"large\">\r\n                  <FontAwesomeIcon icon={r.icon} />\r\n                </Icon>\r\n                <span>{r.label}</span>\r\n              </div>\r\n            ))}\r\n            <div\r\n              className=\"sidebar-menu-item bottom\"\r\n              role=\"button\"\r\n              tabIndex=\"-1\"\r\n            \r\n            >\r\n              \r\n              <span>Cerrar sesión</span>\r\n            </div>\r\n          </div>\r\n        </StyledMenu>\r\n      </ClickCapture>\r\n    </nav>\r\n  );\r\n}\r\n\r\nSidebar.propTypes = {\r\n  open: PropTypes.bool,\r\n  setOpen: PropTypes.func,\r\n};\r\n\r\nSidebar.defaultProps = {\r\n  open: false,\r\n  setOpen: () => null,\r\n};\r\n\r\nexport default Sidebar;\r\n"]},"metadata":{},"sourceType":"module"}